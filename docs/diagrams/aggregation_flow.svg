<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<svg xmlns="http://www.w3.org/2000/svg" width="800" height="500" viewBox="0 0 800 500">
  <defs>
    <style type="text/css"><![CDATA[
      .box { fill:#ffffff; stroke:#000000; stroke-width:1.5; rx:5; ry:5; }
      .text { font-family: Helvetica, Arial, sans-serif; font-size:12px; fill:#000000; text-anchor: middle; }
      .arrow { stroke:#000000; stroke-width:1.5; marker-end:url(#arrowhead); fill:none; }
      .label { font-family: Helvetica, Arial, sans-serif; font-size:10px; fill:#444444; text-anchor: middle; }
    ]]></style>
    <marker id="arrowhead" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#000000" />
    </marker>
  </defs>

  <!-- Inputs -->
  <rect x="50" y="50" width="100" height="40" class="box"/>
  <text x="100" y="75" class="text">Query 1</text>
  
  <rect x="50" y="110" width="100" height="40" class="box"/>
  <text x="100" y="135" class="text">Query 2</text>

  <rect x="50" y="170" width="100" height="40" class="box"/>
  <text x="100" y="195" class="text">Query N</text>

  <!-- Parallel Search -->
  <rect x="250" y="50" width="120" height="160" class="box" stroke-dasharray="5,5"/>
  <text x="310" y="135" class="text">Parallel Qdrant Search</text>

  <!-- Result Lists -->
  <rect x="450" y="50" width="80" height="40" class="box"/>
  <text x="490" y="75" class="text">List 1</text>

  <rect x="450" y="110" width="80" height="40" class="box"/>
  <text x="490" y="135" class="text">List 2</text>
  
  <rect x="450" y="170" width="80" height="40" class="box"/>
  <text x="490" y="195" class="text">List N</text>

  <!-- Aggregator -->
  <rect x="600" y="80" width="140" height="100" class="box"/>
  <text x="670" y="125" class="text">Reciprocal Rank</text>
  <text x="670" y="145" class="text">Fusion (RRF)</text>

  <!-- Output -->
  <rect x="620" y="240" width="100" height="40" class="box"/>
  <text x="670" y="265" class="text">Final Top-K</text>

  <!-- Edges -->
  <line x1="150" y1="70" x2="250" y2="70" class="arrow"/>
  <line x1="150" y1="130" x2="250" y2="130" class="arrow"/>
  <line x1="150" y1="190" x2="250" y2="190" class="arrow"/>

  <line x1="370" y1="70" x2="450" y2="70" class="arrow"/>
  <line x1="370" y1="130" x2="450" y2="130" class="arrow"/>
  <line x1="370" y1="190" x2="450" y2="190" class="arrow"/>

  <line x1="530" y1="70" x2="600" y2="100" class="arrow"/>
  <line x1="530" y1="130" x2="600" y2="130" class="arrow"/>
  <line x1="530" y1="190" x2="600" y2="160" class="arrow"/>

  <line x1="670" y1="180" x2="670" y2="240" class="arrow"/>

</svg>
